<div id="id_textareawrapper_{{ name }}" class="textareawrapper">
	{% if formats %}
		<div class="formatwrapper" {% if formats|length < 2 %}style="display: none"{% endif %}>
			{% for format in formats %}
				<label class="format">
					<input type="radio" name="{{ name }}_format" value="{{ format.format }}"{% if format.checked %} checked="checked"{% endif %} />
					{{ format.label }}
				</label>
			{% endfor %}
		</div>
	{% endif %}

	{{ widget|safe }}
</div>

<script type="text/javascript" charset="utf-8">
//<![CDATA[

var settings = {
	lang: '{{ lang }}',
	{% if tags %}tags: {{ tags|safe }},{% endif %}
	tags: {"known": ["em", "a", "pre", "b", "span", "", "ul", "i", "li", "p", "blockquote", "code", "u", "br", "ol", "strong", "cite"], "unsupported": ["u > ul", "cite > blockquote", "blockquote > li", "li > pre", "strong > blockquote", "ul > strong", "kbd", "tbody", "pre > blockquote", "code > br", "code > cite", "p > li", "font", "pre > em", "noscript", "style", "pre > i", "img", "title", "pre > b", "menu", "tt", "pre > a", "tr", "param", "source", "li > p", "tfoot", "th", "pre > br", "input", "td", "ul > ol", "em > pre", "dl", "fieldset", "big", "dd", "b > code", "u > p", "strong > span", "ul > i", "blockquote > blockquote", "meter", "br > em", "optgroup", "p > ol", "dt", "u > pre", "pre > strong", "b > ul", "ol > ol", "a > i", "wbr", "br > ul", "u > li", "a > b", "button", "a > a", "br > br", "summary", "u > cite", "body > li", "strong > pre", "span > pre", "small", "output", "div", "dir", "a > u", "cite > pre", "pre > ol", "ol > b", "ol > ul", "span > ol", "datalist", "br > cite", "frame", "pre > li", "em > li", "hgroup", "meta", "video", "strong > ul", "pre > span", "b > p", "cite > span", "i > cite", "strong > cite", "span > blockquote", "rt", "li > cite", "canvas", "li > li", "rp", "sub", "code > blockquote", "bdo", "bdi", "cite > ol", "i > li", "label", "acronym", "i > p", "ol > cite", "sup", "progress", "strong > li", "u > blockquote", "br > i", "ol > pre", "a > code", "basefont", "i > span", "ul > span", "p > ul", "pre > ul", "a > strong", "code > li", "pre > cite", "a > blockquote", "base", "ol > em", "address", "article", "legend", "ol > span", "ol > br", "i > pre", "i > blockquote", "em > code", "script", "ul > code", "caption", "s", "a > br", "span > p", "span > ul", "code > ul", "i > ul", "col", "em > ul", "b > cite", "li > blockquote", "h2", "h3", "h1", "h6", "h4", "h5", "b > pre", "header", "br > code", "table", "select", "noframes", "code > a", "ol > strong", "b > blockquote", "a > li", "area", "strong > p", "p > pre", "mark", "code > p", "dfn", "ul > br", "li > code", "strike", "code > pre", "thead", "b > ol", "head", "option", "form", "hr", "a > ol", "p > p", "code > span", "u > code", "code > code", "var", "br > blockquote", "link", "pre > code", "strong > ol", "cite > code", "cite > p", "ruby", "pre > p", "ol > i", "cite > ul", "li > span", "colgroup", "ol > a", "br > u", "br > span", "br > p", "u > span", "keygen", "applet", "del", "em > span", "iframe", "ol > p", "embed", "pre > u", "br > pre", "span > code", "br > b", "frameset", "ul > em", "ul > p", "a > ul", "a > p", "figure", "br > a", "ul > cite", "br > li", "ol > blockquote", "ins", "i > ol", "u > ol", "ol > u", "pre > pre", "em > cite", "span > li", "i > code", "span > cite", "aside", "nav", "details", "br > ol", "span > span", "em > p", "samp", "map", "em > ol", "ol > code", "code > ol", "track", "object", "figcaption", "a > pre", "em > blockquote", "ul > ul", "b > span", "a > em", "cite > cite", "ul > blockquote", "a > span", "center", "textarea", "footer", "a > cite", "strong > code", "ul > u", "b > li", "q", "cite > li", "ul > pre", "command", "p > blockquote", "time", "ul > b", "ul > a", "audio", "br > strong", "section", "abbr"]},
	static_base: '{{ static("") }}',
	parsers: {{ parsers|safe }},
	preview: '{{ url("rich_editor:preview") }}',
	namespace: 'admin'
};
var editor = new _utils.RichEditor(document.getElementById("id_textareawrapper_{{ name }}").getElementsByTagName('TEXTAREA')[0], settings);

//]]>
</script>
